<h5 class="page-header">모집 게시판</h5>

<!-- 게시물 테이블 -->
<div class="border rounded mt-2 mb-2">
  <table class="table table-hover table-condensed mb-auto">
    <colgroup>
      <col style="width: 5%;"/>
      <col style="width: 40%;"/>
      <col style="width: 25%;"/>
      <col style="width: 20%;"/>
    </colgroup>
    <thead>
      <tr>
        <th>No.</th>
        <th>제목</th>
        <th class="text-right">작성자</th>
        <th class="text-right">작성 날짜</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let post of allPost">
        <td>{{post.postNo}}</td>
        <td>
          <a class="text-dark" (click)="onSelect(post)" href="/recruitment#detail">
            {{post.title}}
          </a>
        </td>
        <td class="text-right">{{post.writer}}</td>
        <td class="text-right">{{post.date | date: 'yyyy-MM-dd HH:mm'}}</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="row">
  <div class="col-md-3 mb-1">
    <button class="btn btn-outline-dark btn-sm" (click)="onWrite()">글 작성</button>
  </div>

  <!-- 검색 폼 -->
  <div class="col-md-6 mb-1">
    <form name="searchForm"
          [formGroup]="searchForm"
          (ngSubmit)="onSearch(searchForm.value)">
      <div class="input-group input-group-sm">
        <div class="input-group-prepend">
          <select class="btn btn-outline-dark" name="searchTerm" [formControl]="searchForm.controls['searchTerm']">
            <option value="" selected disabled hidden>검색 조건</option>
            <option value="title">제목</option>
            <option value="writer">작성자</option>
          </select>
        </div>
        <input type="text" class="form-control" name="searchText" [formControl]="searchForm.controls['searchText']">
        <div class="input-group-append">
          <button class="btn btn-outline-dark" type="submit">검색</button>
        </div>
      </div>
    </form>
  </div>

  <!-- 페이지 내비게이션 -->
  <div class="col-md-3">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-end">
        <li class="page-item">
          <a class="page-link" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        <li class="page-item"><a class="page-link">1</a></li>
        <li class="page-item"><a class="page-link">2</a></li>
        <li class="page-item"><a class="page-link">3</a></li>
        <li class="page-item">
          <a class="page-link" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<div *ngIf="selectedPost" id="detail">
  <a name="detail" id="detail"></a>
  <app-post-detail [post]="selectedPost" [isWriter]="isWriter"></app-post-detail>
</div>